var b=(a,s,e)=>{if(!s.has(a))throw TypeError("Cannot "+e)};var t=(a,s,e)=>(b(a,s,"read from private field"),e?e.call(a):s.get(a)),n=(a,s,e)=>{if(s.has(a))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(a):s.set(a,e)},i=(a,s,e,r)=>(b(a,s,"write to private field"),r?r.call(a,e):s.set(a,e),e);import{n as x,v as M,a as y,b as H,R as m,K as R,H as p}from"./db-06457d1e.js";import{A as w}from"./index-2288207f.js";const V=w();var l,F,h,f,k;class T{constructor(s){n(this,l,void 0);n(this,F,void 0);n(this,h,void 0);n(this,f,void 0);n(this,k,void 0);i(this,l,w({askedFor:0,data:[],loading:!0})),i(this,F,s),i(this,h,0),i(this,f,0)}get store(){return t(this,l)}get unSub(){return t(this,k)}seeMore(){var e;if(t(this,h)!==t(this,f))return;i(this,h,t(this,h)+5),t(this,l).update(r=>({loading:!0,data:r.data,askedFor:t(this,h)})),(e=t(this,k))==null||e.call(this);const s=this;i(this,k,m(R(t(this,F),p(t(this,h))),{next(r){i(s,f,r.docs.length),t(s,l).set({data:r.docs.map(v=>v.data()),loading:!1,askedFor:t(s,h)})}}))}}l=new WeakMap,F=new WeakMap,h=new WeakMap,f=new WeakMap,k=new WeakMap;const j=new T(x),q=new T(M);var d,L,o,u,g,c;class S{constructor(s){n(this,d,void 0);n(this,L,void 0);n(this,o,void 0);n(this,u,void 0);n(this,g,void 0);n(this,c,void 0);i(this,d,w({askedFor:0,data:[],loading:!0})),i(this,L,s),i(this,o,0),i(this,u,0)}get connectTo(){return t(this,c)}set connectTo(s){var e;s!==t(this,c)&&((e=t(this,g))==null||e.call(this),i(this,g,void 0),t(this,d).set({askedFor:0,data:[],loading:!1}),i(this,o,0),i(this,u,0),i(this,c,s)&&this.seeMore())}get store(){return t(this,d)}seeMore(){var e;if(!t(this,c)||t(this,o)!==t(this,u))return;i(this,o,t(this,o)+5),t(this,d).update(r=>({loading:!0,data:r.data,askedFor:t(this,o)})),(e=t(this,g))==null||e.call(this);const s=this;i(this,g,m(R(t(this,L).call(this,t(this,c)),p(t(this,o))),{next(r){i(s,u,r.docs.length),t(s,d).set({data:r.docs.map(v=>v.data()),loading:!1,askedFor:t(s,o)})}}))}}d=new WeakMap,L=new WeakMap,o=new WeakMap,u=new WeakMap,g=new WeakMap,c=new WeakMap;const z=new S(y),B=new S(H);export{q as a,B as b,V as e,j as l,z as s};
